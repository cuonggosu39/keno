<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Keno ‚Äì Th·ªëng k√™ Hot / Cold</title>

<style>
:root{
  --cell-width:75px;
  --cell-height:55px;
  --font-btn:18px;
  --font-cell:22px;
}

/* body */
body{
  font-family: Arial, sans-serif;
  background:#fff;
  margin:0;
  padding:15px;
  text-align:center;
}

h2{ margin-bottom:10px; }

/* buttons */
button{
  font-size:var(--font-btn);
  padding:8px 18px;
  margin:6px;
  cursor:pointer;
  border-radius:6px;
}

/* info */
#info{
  font-size:22px;
  font-weight:bold;
  margin:10px 0;
  white-space:pre-line;
}

/* nav */
.nav{ margin-bottom:10px; }

/* table */
#board{
  margin:0 auto;
  border-collapse:collapse;
}

#board td{
  width:var(--cell-width);
  height:var(--cell-height);
  border:1px solid #aaa;
  font-size:var(--font-cell);
  text-align:center;
  vertical-align:middle;
  position: relative;
}

/* chia b·∫£ng 4 ph·∫ßn */
#board td:nth-child(5){ border-right:3px solid #000; }
#board tr:nth-child(4) td{ border-bottom:3px solid #000; }

/* hit ‚Äì s·ªë tr√∫ng k·ª≥ hi·ªán t·∫°i */
.hit{ background:#4caf50; color:#fff; }

/* g·∫°ch ch√¢n k·ª≥ tr∆∞·ªõc */
.prev-hit{
  text-decoration: underline;
  text-decoration-thickness: 3px;
  text-underline-offset: 6px;
}

/* HOT */
.hot1{ color:#ffcc80; font-weight:bold; }
.hot2{ color:#ff9800; font-weight:bold; }
.hot3{ color:#e65100; font-weight:bold; }

/* COLD */
.cold1{ color:#90caf9; }
.cold2{ color:#1e88e5; font-weight:bold; }
.cold3{ color:#0d47a1; font-weight:bold; }

/* note / legend ‚Äì GI·ªÆ G·ªêC */
.note{
  max-width:1200px;
  margin:20px auto;
  font-size:16px;
  line-height:1.6;
  text-align:left;
  padding:0 10px;
}

/* ===== CH·ªà TH√äM GRID LAYOUT ===== */
.note-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:12px;
}

.note-grid > div{
  background:#fafafa;
  padding:10px 12px;
  border-radius:6px;
}

.note-title{
  grid-column:1 / -1;
  background:none;
  padding:0;
}

.note-footer{
  grid-column:1 / -1;
  text-align:center;
  color:#555;
}

/* responsive */
@media (max-width:600px){
  :root{
    --cell-width:50px;
    --cell-height:45px;
    --font-btn:22px;
    --font-cell:16px;
  }
  #info{ font-size:18px; }
  button{ padding:10px 22px; }
  .note{ font-size:14px; }
}

@media (min-width:1200px){
  :root{
    --cell-width:75px;
    --cell-height:55px;
    --font-btn:20px;
    --font-cell:22px;
  }
}

@media (min-width:1800px){
  :root{
    --cell-width:90px;
    --cell-height:60px;
    --font-btn:28px;
    --font-cell:30px;
  }
  #info{ font-size:32px; }
  .note{ font-size:20px; }
}
</style>
</head>

<body>

<h2>Keno ‚Äì Th·ªëng k√™ Hot / Cold (10 k·ª≥ g·∫ßn nh·∫•t)</h2>

<div id="info"></div>

<div class="nav">
  <button onclick="newer()">‚óÄ</button>
  <button onclick="older()">‚ñ∂</button>
</div>

<table id="board"></table>

<!-- note / gi·∫£i th√≠ch ‚Äì CH·ªà ƒê·ªîI LAYOUT -->
<div class="note note-grid">
  <div class="note-title"><b>Gi·∫£i th√≠ch cho kh√°ch xem:</b></div>

  <div>
    üü¢ <b>N·ªÅn xanh l√°</b>: s·ªë tr√∫ng k·ª≥ ƒëang xem<br>
    ‚ñ¨ <b>G·∫°ch ch√¢n</b>: s·ªë tr√∫ng k·ª≥ li·ªÅn tr∆∞·ªõc
  </div>

  <div>
    üî• <b>HOT</b> ‚Äì xu·∫•t hi·ªán trong 10 k·ª≥ g·∫ßn nh·∫•t:<br>
    ‚Ä¢ 6‚Äì10 l·∫ßn: cam ƒë·∫≠m<br>
    ‚Ä¢ 4‚Äì5 l·∫ßn: cam<br>
    ‚Ä¢ 3 l·∫ßn: cam nh·∫°t
  </div>

  <div>
    ‚ùÑ <b>COLD (gan)</b> ‚Äì s·ªë kh√¥ng xu·∫•t hi·ªán li√™n ti·∫øp:<br>
    ‚Ä¢ ‚â•8 k·ª≥ gan: xanh ƒë·∫≠m<br>
    ‚Ä¢ 6‚Äì7 k·ª≥ gan: xanh<br>
    ‚Ä¢ 4‚Äì5 k·ª≥ gan: xanh nh·∫°t
  </div>

  <div class="note-footer">
    <i>K·∫øt qu·∫£ th·ªëng k√™ ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o ‚Äì Keno l√† tr√≤ ch∆°i gi·∫£i tr√≠.</i>
  </div>
</div>

<textarea id="raw" style="display:none;">
22/12/2025	01 03 04 06 10 18 24 27 33 34
#0264053	38 42 44 45 47 49 50 58 67 76
22/12/2025	04 10 12 13 15 17 19 25 31 34
#0264052	37 39 46 54 59 63 70 73 78 79
22/12/2025	05 10 23 29 30 35 36 38 44 45
#0264051	49 59 60 61 62 63 64 77 78 79
22/12/2025	07 08 10 11 16 17 21 27 35 36
#0264050	37 38 41 49 60 62 63 69 71 78
22/12/2025	03 05 12 14 17 20 25 33 41 43
#0264049	48 49 50 51 52 53 65 67 68 69
22/12/2025	06 08 12 14 21 25 26 35 40 41
#0264048	44 45 47 48 50 53 54 55 59 69
22/12/2025	01 09 14 23 24 25 26 30 38 46
#0264047	55 56 57 60 61 62 63 64 78 80
22/12/2025	02 07 09 10 11 17 19 21 24 25
#0264046	31 33 34 37 38 61 65 69 73 75
22/12/2025	01 02 05 06 07 09 16 23 33 35
#0264045	40 42 46 47 54 59 65 66 76 79
22/12/2025	02 11 17 18 20 21 25 38 44 45
#0264044	48 60 63 66 67 68 69 72 78 80
22/12/2025	01 03 05 07 12 23 24 25 27 29
#0264043	30 32 33 34 35 36 46 59 60 77
</textarea>

<script>
let results=[];
let index=0;
const WINDOW=10;

function parseData(){
  let lines=document.getElementById("raw").value.replace(/\u00A0/g," ").trim().split(/\n+/);
  let out=[];
  for(let i=0;i<lines.length;i+=2){
    if(!lines[i+1]) break;
    let line1=lines[i];
    let line2=lines[i+1];
    let date=line1.match(/\d{2}\/\d{2}\/\d{4}/)?.[0]||"";
    let draw=line2.match(/#\d+/)?.[0]||"";
    let nums1=line1.replace(date,"").trim().split(/\s+/).map(Number);
    let nums2=line2.replace(draw,"").trim().split(/\s+/).map(Number);
    let nums=[...nums1,...nums2].filter(n=>n>=1 && n<=80);
    if(nums.length===20) out.push({date,draw,nums});
  }
  return out;
}

function calcStats(){
  let freq=Array(81).fill(0);
  let drought=Array(81).fill(0);
  results.slice(index,index+WINDOW).forEach(r=>r.nums.forEach(n=>freq[n]++));
  for(let n=1;n<=80;n++){
    for(let i=index;i<Math.min(results.length,index+WINDOW);i++){
      if(results[i].nums.includes(n)) break;
      drought[n]++;
    }
  }
  return {freq,drought};
}

function render(){
  if(!results.length) return;
  let cur=results[index];
  let prev=index+1<results.length?results[index+1].nums:[];
  let {freq,drought}=calcStats();
  document.getElementById("info").innerText=`Ng√†y ${cur.date} ‚Äì K·ª≥ ${cur.draw}`;
  let tb=document.getElementById("board");
  tb.innerHTML="";
  let n=1;
  for(let r=0;r<8;r++){
    let tr=document.createElement("tr");
    for(let c=0;c<10;c++){
      let td=document.createElement("td");
      td.textContent=n.toString().padStart(2,"0");
      if(cur.nums.includes(n)) td.classList.add("hit");
      if(prev.includes(n)) td.classList.add("prev-hit");
      if(freq[n]>=6) td.classList.add("hot3");
      else if(freq[n]>=4) td.classList.add("hot2");
      else if(freq[n]===3) td.classList.add("hot1");
      if(drought[n]>=8) td.classList.add("cold3");
      else if(drought[n]>=6) td.classList.add("cold2");
      else if(drought[n]>=4) td.classList.add("cold1");
      tr.appendChild(td);
      n++;
    }
    tb.appendChild(tr);
  }
}

/* auto resize b·∫£ng */
function autoResize(){
  const vw=window.innerWidth;
  if(vw<600){
    document.documentElement.style.setProperty('--cell-width','50px');
    document.documentElement.style.setProperty('--cell-height','45px');
  } else if(vw>=1800){
    document.documentElement.style.setProperty('--cell-width','90px');
    document.documentElement.style.setProperty('--cell-height','60px');
  } else {
    document.documentElement.style.setProperty('--cell-width','75px');
    document.documentElement.style.setProperty('--cell-height','55px');
  }
}

function older(){if(index+1<results.length){index++;render();}}
function newer(){if(index>0){index--;render();}}

results=parseData();
autoResize();
render();
window.addEventListener('resize',autoResize);
</script>

</body>
</html>
