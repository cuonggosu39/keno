<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Keno ‚Äì Th·ªëng k√™ Hot / Cold</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #fff;
  text-align: center;
  padding: 20px;
}

h2 {
  margin-bottom: 10px;
}

/* INFO */
#info {
  font-size: 22px;
  font-weight: bold;
  margin: 10px 0 20px;
  white-space: pre-line;
}

/* BUTTON */
button {
  font-size: 26px;
  padding: 6px 14px;
  margin: 0 20px;
  cursor: pointer;
}

/* TABLE */
#board {
  margin: 0 auto;
  border-collapse: collapse;
}

td {
  width: 70px;
  height: 70px;
  border: 1px solid #aaa;
  font-size: 22px;
  text-align: center;
  vertical-align: middle;
}

/* chia 4 ph·∫ßn */
td.vline {
  border-right: 3px solid #000;
}
tr.hline td {
  border-bottom: 3px solid #000;
}

/* HIT */
.hit {
  background: #4caf50;
  color: #fff;
}

/* UNDERLINE (k·ª≥ tr∆∞·ªõc) */
.prev-hit {
  text-decoration: underline;
  text-decoration-thickness: 3px;
  text-underline-offset: 6px;
}

/* HOT */
.hot1 { color: #ffcc80; font-weight: bold; }
.hot2 { color: #ff9800; font-weight: bold; }
.hot3 { color: #e65100; font-weight: bold; }

/* COLD */
.cold1 { color: #90caf9; }
.cold2 { color: #1e88e5; font-weight: bold; }
.cold3 { color: #0d47a1; font-weight: bold; }

/* LEGEND */
.legend {
  max-width: 900px;
  margin: 30px auto;
  text-align: left;
  font-size: 16px;
  line-height: 1.6;
}
</style>
</head>

<body>

<h2>Keno ‚Äì Th·ªëng k√™ Hot / Cold (10 k·ª≥ g·∫ßn nh·∫•t)</h2>

<div>
  <button onclick="newer()">‚¨ÖÔ∏è</button>
  <button onclick="older()">‚û°Ô∏è</button>
</div>

<div id="info"></div>

<table id="board"></table>

<div class="legend">
<b>Gi·∫£i th√≠ch cho kh√°ch xem:</b><br><br>

üü¢ <b>N·ªÅn xanh</b>: s·ªë ra ·ªü k·ª≥ ƒëang xem<br>
‚ûñ <b>G·∫°ch ch√¢n</b>: s·ªë ra ·ªü k·ª≥ li·ªÅn tr∆∞·ªõc<br><br>

üî• <b>Hot</b> ‚Äì xu·∫•t hi·ªán nhi·ªÅu trong 10 k·ª≥ g·∫ßn nh·∫•t:<br>
‚Ä¢ 6‚Äì7 l·∫ßn: cam ƒë·∫≠m<br>
‚Ä¢ 4‚Äì5 l·∫ßn: cam v·ª´a<br>
‚Ä¢ 3 l·∫ßn: cam nh·∫°t<br><br>

‚ùÑ <b>Cold (gan)</b> ‚Äì kh√¥ng xu·∫•t hi·ªán li√™n ti·∫øp:<br>
‚Ä¢ ‚â•8 k·ª≥: xanh ƒë·∫≠m<br>
‚Ä¢ 6‚Äì7 k·ª≥: xanh v·ª´a<br>
‚Ä¢ 4‚Äì5 k·ª≥: xanh nh·∫°t<br><br>

<i>Th·ªëng k√™ ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o ‚Äì Keno l√† tr√≤ ch∆°i gi·∫£i tr√≠.</i>
</div>

<script>
/* ================== D√ÅN D·ªÆ LI·ªÜU ·ªû ƒê√ÇY ================== */
const RAW_DATA = `
21/12/2025 01 04 06 10 11 25 27 30 34 36
#0263904 38 40 47 48 49 51 57 64 73 77
21/12/2025 01 09 14 17 18 20 21 27 28 29
#0263897 30 31 32 35 44 45 46 51 79 80
`;
/* ====================================================== */

const WINDOW = 10;
let results = [];
let index = 0;

/* Parse d·ªØ li·ªáu ‚Äì CH·ªà l·∫•y ƒë√∫ng 20 s·ªë / k·ª≥ */
function parseData() {
  const lines = RAW_DATA.trim().split(/\n+/);
  for (let i = 0; i + 1 < lines.length; i += 2) {
    const line1 = lines[i];
    const line2 = lines[i + 1];

    const date = line1.match(/\d{2}\/\d{2}\/\d{4}/)?.[0] || '‚Äî';
    const draw = line2.match(/#\d+/)?.[0] || '‚Äî';

    const nums = (line1 + ' ' + line2)
      .match(/\b0?(?:[1-9]|[1-7][0-9]|80)\b/g)
      ?.map(n => Number(n)) || [];

    if (nums.length === 20) {
      results.push({ date, draw, numbers: nums });
    }
  }
}

function calcStats() {
  const freq = {}, drought = {};
  for (let n = 1; n <= 80; n++) {
    freq[n] = 0;
    drought[n] = 0;
  }

  results.slice(0, WINDOW).forEach(r => {
    r.numbers.forEach(n => freq[n]++);
  });

  for (let n = 1; n <= 80; n++) {
    for (let i = 0; i < Math.min(results.length, WINDOW); i++) {
      if (results[i].numbers.includes(n)) break;
      drought[n]++;
    }
  }

  return { freq, drought };
}

function render() {
  if (!results.length) return;

  const current = results[index];
  const prev = results[index + 1];
  const { freq, drought } = calcStats();

  document.getElementById('info').innerText =
    `${current.date}\n${current.draw} (${index + 1}/${results.length})`;

  const table = document.getElementById('board');
  table.innerHTML = '';

  let row;
  for (let n = 1; n <= 80; n++) {
    const r = Math.floor((n - 1) / 10);
    const c = (n - 1) % 10;

    if (c === 0) {
      row = table.insertRow();
      if (r === 3) row.classList.add('hline'); // sau h√†ng 4
    }

    const cell = row.insertCell();
    cell.innerText = n;

    if (c === 4) cell.classList.add('vline'); // sau c·ªôt 5

    if (current.numbers.includes(n)) cell.classList.add('hit');
    if (prev && prev.numbers.includes(n)) cell.classList.add('prev-hit');

    if (freq[n] >= 6) cell.classList.add('hot3');
    else if (freq[n] >= 4) cell.classList.add('hot2');
    else if (freq[n] === 3) cell.classList.add('hot1');

    if (!current.numbers.includes(n)) {
      if (drought[n] >= 8) cell.classList.add('cold3');
      else if (drought[n] >= 6) cell.classList.add('cold2');
      else if (drought[n] >= 4) cell.classList.add('cold1');
    }
  }
}

function older() {
  if (index < results.length - 1) {
    index++;
    render();
  }
}

function newer() {
  if (index > 0) {
    index--;
    render();
  }
}

/* INIT */
parseData();
render();
</script>

</body>
</html>
